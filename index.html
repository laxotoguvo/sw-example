<html>
    <head>
    </head>
    <body>
        <H1>LOADED</H1>
        <button id="test"> CLICK ME BIATCHHHHH </button>
        <script>
            let button = document.getElementById("test");
            button.onclick = (() => {
                console.log("click")
                navigator.serviceWorker.register('/my_workers/worker1.js', {
                    // The scope cannot be parent to the script url
                    scope: './'
                }).then(()=>{
                    console.log("Done");
                }).catch((e)=> {
                 console.log("Catch");
                 console.log(e);
                });
            })
        </script>
        <script>
        // Insert via ServiceWorker.onmessage. Or directly once window.caches is exposed
        caches.open( 'myCache' ).then( function( cache )
        {
         cache.put( '/my_workers/worker1.js',
          new Response( "console.log('hello');", { headers: {'content-type':'application/javascript'}})
         );
        });
        </script>
    </body>
</html>
